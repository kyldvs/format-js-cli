
/*
 * Copyright (c) 2015-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the license found in the LICENSE file in
 * the root directory of this source tree.
 */

var jscs = require('jscodeshift');

var _require = require('./StringUtils');

var isLowerCase = _require.isLowerCase;

// TODO: make this configurable somehow, we probably don't want to explicitly
// list out all of the lowercase html tags that are built-in
var LOWER_CASE_WHITE_LIST = new Set(['fbt']);

/**
 * This will get a list of identifiers for JSXElements in the AST
 */
function getJSXIdentifiers(root) {
  var ids = new Set();
  root
  // There should be an opening element for every single closing element so
  // we can just look for opening ones
  .find(jscs.JSXOpeningElement).filter(function (path) {
    return jscs.JSXIdentifier.check(path.node.name);
  }).forEach(function (path) {
    var name = path.node.name.name;
    // TODO: should this be here or in addMissingRequires?
    if (!isLowerCase(name) || LOWER_CASE_WHITE_LIST.has(name)) {
      ids.add(name);
    }
  });
  return ids;
}

module.exports = getJSXIdentifiers;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvZm9sZGVycy94Zi9yc3BoNF9jNTczMTVyczU3eHhzZHNrcnhudjM2dDAvVC90bXBwZmw1Mm5wdWJsaXNoX3BhY2thZ2VzL25wbS9udWNsaWRlLWZvcm1hdC1qcy1iYXNlL2xpYi91dGlscy9nZXRKU1hJZGVudGlmaWVycy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxXQUFXLENBQUM7Ozs7Ozs7Ozs7QUFhWixJQUFNLElBQUksR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUM7O2VBRWQsT0FBTyxDQUFDLGVBQWUsQ0FBQzs7SUFBdkMsV0FBVyxZQUFYLFdBQVc7Ozs7QUFJbEIsSUFBTSxxQkFBcUIsR0FBRyxJQUFJLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Ozs7O0FBSy9DLFNBQVMsaUJBQWlCLENBQUMsSUFBZ0IsRUFBZTtBQUN4RCxNQUFNLEdBQUcsR0FBRyxJQUFJLEdBQUcsRUFBRSxDQUFDO0FBQ3RCLE1BQUk7OztHQUdELElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FDNUIsTUFBTSxDQUFDLFVBQUEsSUFBSTtXQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO0dBQUEsQ0FBQyxDQUN4RCxPQUFPLENBQUMsVUFBQSxJQUFJLEVBQUk7QUFDZixRQUFNLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7O0FBRWpDLFFBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUkscUJBQXFCLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFO0FBQ3pELFNBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDZjtHQUNGLENBQUMsQ0FBQztBQUNMLFNBQU8sR0FBRyxDQUFDO0NBQ1o7O0FBRUQsTUFBTSxDQUFDLE9BQU8sR0FBRyxpQkFBaUIsQ0FBQyIsImZpbGUiOiIvdmFyL2ZvbGRlcnMveGYvcnNwaDRfYzU3MzE1cnM1N3h4c2Rza3J4bnYzNnQwL1QvdG1wcGZsNTJucHVibGlzaF9wYWNrYWdlcy9ucG0vbnVjbGlkZS1mb3JtYXQtanMtYmFzZS9saWIvdXRpbHMvZ2V0SlNYSWRlbnRpZmllcnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGJhYmVsJztcbi8qIEBmbG93ICovXG5cbi8qXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgbGljZW5zZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGluXG4gKiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgdHlwZSB7Q29sbGVjdGlvbn0gZnJvbSAnLi4vdHlwZXMvYXN0JztcblxuY29uc3QganNjcyA9IHJlcXVpcmUoJ2pzY29kZXNoaWZ0Jyk7XG5cbmNvbnN0IHtpc0xvd2VyQ2FzZX0gPSByZXF1aXJlKCcuL1N0cmluZ1V0aWxzJyk7XG5cbi8vIFRPRE86IG1ha2UgdGhpcyBjb25maWd1cmFibGUgc29tZWhvdywgd2UgcHJvYmFibHkgZG9uJ3Qgd2FudCB0byBleHBsaWNpdGx5XG4vLyBsaXN0IG91dCBhbGwgb2YgdGhlIGxvd2VyY2FzZSBodG1sIHRhZ3MgdGhhdCBhcmUgYnVpbHQtaW5cbmNvbnN0IExPV0VSX0NBU0VfV0hJVEVfTElTVCA9IG5ldyBTZXQoWydmYnQnXSk7XG5cbi8qKlxuICogVGhpcyB3aWxsIGdldCBhIGxpc3Qgb2YgaWRlbnRpZmllcnMgZm9yIEpTWEVsZW1lbnRzIGluIHRoZSBBU1RcbiAqL1xuZnVuY3Rpb24gZ2V0SlNYSWRlbnRpZmllcnMocm9vdDogQ29sbGVjdGlvbik6IFNldDxzdHJpbmc+IHtcbiAgY29uc3QgaWRzID0gbmV3IFNldCgpO1xuICByb290XG4gICAgLy8gVGhlcmUgc2hvdWxkIGJlIGFuIG9wZW5pbmcgZWxlbWVudCBmb3IgZXZlcnkgc2luZ2xlIGNsb3NpbmcgZWxlbWVudCBzb1xuICAgIC8vIHdlIGNhbiBqdXN0IGxvb2sgZm9yIG9wZW5pbmcgb25lc1xuICAgIC5maW5kKGpzY3MuSlNYT3BlbmluZ0VsZW1lbnQpXG4gICAgLmZpbHRlcihwYXRoID0+IGpzY3MuSlNYSWRlbnRpZmllci5jaGVjayhwYXRoLm5vZGUubmFtZSkpXG4gICAgLmZvckVhY2gocGF0aCA9PiB7XG4gICAgICBjb25zdCBuYW1lID0gcGF0aC5ub2RlLm5hbWUubmFtZTtcbiAgICAgIC8vIFRPRE86IHNob3VsZCB0aGlzIGJlIGhlcmUgb3IgaW4gYWRkTWlzc2luZ1JlcXVpcmVzP1xuICAgICAgaWYgKCFpc0xvd2VyQ2FzZShuYW1lKSB8fCBMT1dFUl9DQVNFX1dISVRFX0xJU1QuaGFzKG5hbWUpKSB7XG4gICAgICAgIGlkcy5hZGQobmFtZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIHJldHVybiBpZHM7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0SlNYSWRlbnRpZmllcnM7XG4iXX0=
